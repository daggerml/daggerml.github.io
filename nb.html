
<!DOCTYPE html>


<html lang="en" data-content_root="./" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>How-To Guide &#8212; DaggerML Documentation foopy</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "";
  </script>
  <!--
    this give us a css class that will be invisible only if js is disabled
  -->
  <noscript>
    <style>
      .pst-js-only { display: none !important; }

    </style>
  </noscript>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="_static/styles/theme.css?digest=8878045cc6db502f8baf" rel="stylesheet" />
<link href="_static/styles/pydata-sphinx-theme.css?digest=8878045cc6db502f8baf" rel="stylesheet" />

    <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=a746c00c" />
    <link rel="stylesheet" type="text/css" href="_static/styles/sphinx-book-theme.css?v=a3416100" />
    <link rel="stylesheet" type="text/css" href="_static/mystnb.4510f1fc1dee50b3e5859aac5469c37c29e427902b24a333a5f9fcb2f0b3ac41.css" />
  
  <!-- So that users can add custom icons -->
  <script src="_static/scripts/fontawesome.js?digest=8878045cc6db502f8baf"></script>
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="_static/scripts/bootstrap.js?digest=8878045cc6db502f8baf" />
<link rel="preload" as="script" href="_static/scripts/pydata-sphinx-theme.js?digest=8878045cc6db502f8baf" />

    <script src="_static/documentation_options.js?v=0150aef7"></script>
    <script src="_static/doctools.js?v=9bcbadda"></script>
    <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="_static/scripts/sphinx-book-theme.js?v=887ef09a"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'nb';</script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  <meta name="docsearch:version" content="0.0.17" />
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <div id="pst-skip-link" class="skip-link d-print-none"><a href="#main-content">Skip to main content</a></div>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>Back to top</button>

  
  <dialog id="pst-search-dialog">
    
<form class="bd-search d-flex align-items-center"
      action="search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         placeholder="Search..."
         aria-label="Search..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form>
  </dialog>

  <div class="pst-async-banner-revealer d-none">
  <aside id="bd-header-version-warning" class="d-none d-print-none" aria-label="Version warning"></aside>
</div>

  
    <header class="bd-header navbar navbar-expand-lg bd-navbar d-print-none">
    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
        
      
      <dialog id="pst-primary-sidebar-modal"></dialog>
      <div id="pst-primary-sidebar" class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">

  
    
  

<a class="navbar-brand logo" href="index.html">
  
  
  
  
  
    
    
      
    
    
    <img src="_static/logo-nobg.png" class="logo__image only-light" alt="DaggerML Documentation foopy - Home"/>
    <img src="_static/logo-nobg.png" class="logo__image only-dark pst-js-only" alt="DaggerML Documentation foopy - Home"/>
  
  
</a></div>
        <div class="sidebar-primary-item">

<button class="btn search-button-field search-button__button pst-js-only" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
 <i class="fa-solid fa-magnifying-glass"></i>
 <span class="search-button__default-text">Search</span>
 <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
</button></div>
        <div class="sidebar-primary-item"><nav class="bd-links bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        
        <ul class="nav bd-sidenav bd-sidenav__home-link">
            <li class="toctree-l1">
                <a class="reference internal" href="index.html">
                    DaggerML Documentation
                </a>
            </li>
        </ul>
        <ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="howto.html">How-To Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="api.html">API Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="contributing.html">Contributing Guide</a></li>
</ul>

    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
      <div class="sidebar-primary-item">
<div id="ethical-ad-placement"
      class="flat"
      data-ea-publisher="readthedocs"
      data-ea-type="readthedocs-sidebar"
      data-ea-manual="true">
</div></div>
  </div>


      </div>
      
      <main id="main-content" class="bd-main" role="main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article d-print-none">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><button class="sidebar-toggle primary-toggle btn btn-sm" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</button></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">


<a href="https://github.com/daggerml/python-lib" target="_blank"
   class="btn btn-sm btn-source-repository-button"
   title="Source repository"
   data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fab fa-github"></i>
  </span>

</a>






<div class="dropdown dropdown-download-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Download this page">
    <i class="fas fa-download"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="_sources/nb.ipynb" target="_blank"
   class="btn btn-sm btn-download-source-button dropdown-item"
   title="Download source file"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="btn__text-container">.ipynb</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="window.print()"
  class="btn btn-sm btn-download-pdf-button dropdown-item"
  title="Print to PDF"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="btn__text-container">.pdf</span>
</button>
</li>
      
  </ul>
</div>




<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Fullscreen mode"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>



<button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button pst-js-only" aria-label="Color mode" data-bs-title="Color mode"  data-bs-placement="bottom" data-bs-toggle="tooltip">
  <i class="theme-switch fa-solid fa-sun                fa-lg" data-mode="light" title="Light"></i>
  <i class="theme-switch fa-solid fa-moon               fa-lg" data-mode="dark"  title="Dark"></i>
  <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"  title="System Settings"></i>
</button>


<button class="btn btn-sm pst-navbar-icon search-button search-button__button pst-js-only" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass fa-lg"></i>
</button>
<button class="sidebar-toggle secondary-toggle btn btn-sm" title="Toggle secondary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="fa-solid fa-list"></span>
</button>
</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>How-To Guide</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Contents </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#basic-usage">Basic Usage</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#the-basics">The Basics</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#creating-a-dag">Creating a DAG</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#using-the-api-class">Using the API Class</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#loading-and-dumping-a-dag">Loading and Dumping a DAG</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#advanced-usage">Advanced Usage</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#dealing-with-the-api">Dealing with the API</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#standard-usage">Standard Usage</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#using-a-temporary-repo">Using a Temporary Repo</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#using-a-specific-repo">Using a Specific Repo</a></li>
</ul>
</li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#conclusion">Conclusion</a></li>
</ul>
            </nav>
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <section id="how-to-guide">
<h1>How-To Guide<a class="headerlink" href="#how-to-guide" title="Link to this heading">#</a></h1>
<p>This guide will walk you through the most useful aspects of DaggerML,
including creating and managing DAGs, using the API, and running tests.</p>
<section id="basic-usage">
<h2>Basic Usage<a class="headerlink" href="#basic-usage" title="Link to this heading">#</a></h2>
<section id="the-basics">
<h3>The Basics<a class="headerlink" href="#the-basics" title="Link to this heading">#</a></h3>
<p>Let’s go over some of the basic operations on dags. Once a dag is
created, you can add nodes as leaves (literal nodes) and commit values.
The nodes you add can be collections of values or of other nodes.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">os</span>
<span class="p">{</span><span class="n">k</span><span class="p">:</span> <span class="n">v</span> <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="o">.</span><span class="n">items</span><span class="p">()</span> <span class="k">if</span> <span class="n">k</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s2">&quot;DML_&quot;</span><span class="p">)}</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>{&#39;DML_CONFIG_DIR&#39;: &#39;/tmp/tmp855w_lb0/config&#39;,
 &#39;DML_PROJECT_DIR&#39;: &#39;/tmp/tmp855w_lb0/project&#39;,
 &#39;DML_REPO&#39;: &#39;testing&#39;}
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">daggerml</span> <span class="k">as</span> <span class="nn">dml</span>


<span class="n">api</span> <span class="o">=</span> <span class="n">dml</span><span class="o">.</span><span class="n">Api</span><span class="p">()</span>
<span class="n">api</span><span class="p">(</span><span class="s1">&#39;repo&#39;</span><span class="p">,</span> <span class="s1">&#39;create&#39;</span><span class="p">,</span> <span class="s1">&#39;testing&#39;</span><span class="p">)</span>
<span class="n">api</span><span class="p">(</span><span class="s1">&#39;project&#39;</span><span class="p">,</span> <span class="s1">&#39;init&#39;</span><span class="p">,</span> <span class="s1">&#39;testing&#39;</span><span class="p">)</span>

<span class="n">dag</span> <span class="o">=</span> <span class="n">dml</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;example_dag&quot;</span><span class="p">,</span> <span class="n">message</span><span class="o">=</span><span class="s2">&quot;Example DAG creation&quot;</span><span class="p">)</span>
<span class="c1"># Add nodes to the DAG</span>
<span class="n">node0</span> <span class="o">=</span> <span class="n">dag</span><span class="o">.</span><span class="n">put</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
<span class="n">node1</span> <span class="o">=</span> <span class="n">dag</span><span class="o">.</span><span class="n">put</span><span class="p">(</span><span class="s2">&quot;example&quot;</span><span class="p">)</span>
<span class="c1"># node2 = dag.put({node0, node1})</span>
<span class="n">node3</span> <span class="o">=</span> <span class="n">dag</span><span class="o">.</span><span class="n">put</span><span class="p">({</span><span class="s2">&quot;node0&quot;</span><span class="p">:</span> <span class="n">node0</span><span class="o">.</span><span class="n">value</span><span class="p">(),</span> <span class="s2">&quot;node1&quot;</span><span class="p">:</span> <span class="n">node1</span><span class="p">})</span>
<span class="n">node4</span> <span class="o">=</span> <span class="n">dag</span><span class="o">.</span><span class="n">put</span><span class="p">([</span><span class="n">node1</span><span class="p">,</span> <span class="n">node3</span><span class="p">])</span>
<span class="k">assert</span> <span class="n">node4</span><span class="o">.</span><span class="n">value</span><span class="p">()</span> <span class="o">==</span> <span class="p">[</span><span class="n">node1</span><span class="o">.</span><span class="n">value</span><span class="p">(),</span> <span class="n">node3</span><span class="o">.</span><span class="n">value</span><span class="p">()]</span>
<span class="c1"># Commit the DAG</span>
<span class="n">dag</span><span class="o">.</span><span class="n">commit</span><span class="p">(</span><span class="n">node3</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Ref(to=&#39;dag/725c518efd71303fb2fc0b531fd72e54&#39;)
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">daggerml</span> <span class="k">as</span> <span class="nn">dml</span>

<span class="k">with</span> <span class="n">dml</span><span class="o">.</span><span class="n">Api</span><span class="p">(</span><span class="n">initialize</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span> <span class="k">as</span> <span class="n">api</span><span class="p">:</span>
    <span class="c1"># initialize dml in the temporary directory</span>
    <span class="c1"># Create a new DAG</span>
    <span class="n">dag</span> <span class="o">=</span> <span class="n">api</span><span class="o">.</span><span class="n">new_dag</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;example_dag&quot;</span><span class="p">,</span> <span class="n">message</span><span class="o">=</span><span class="s2">&quot;Example DAG creation&quot;</span><span class="p">)</span>
    <span class="c1"># Add nodes to the DAG</span>
    <span class="n">node0</span> <span class="o">=</span> <span class="n">dag</span><span class="o">.</span><span class="n">put</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
    <span class="n">node1</span> <span class="o">=</span> <span class="n">dag</span><span class="o">.</span><span class="n">put</span><span class="p">(</span><span class="s2">&quot;example&quot;</span><span class="p">)</span>
    <span class="c1"># node2 = dag.put({node0, node1})</span>
    <span class="n">node3</span> <span class="o">=</span> <span class="n">dag</span><span class="o">.</span><span class="n">put</span><span class="p">({</span><span class="s2">&quot;node0&quot;</span><span class="p">:</span> <span class="n">node0</span><span class="o">.</span><span class="n">value</span><span class="p">(),</span> <span class="s2">&quot;node1&quot;</span><span class="p">:</span> <span class="n">node1</span><span class="p">})</span>
    <span class="n">node4</span> <span class="o">=</span> <span class="n">dag</span><span class="o">.</span><span class="n">put</span><span class="p">([</span><span class="n">node1</span><span class="p">,</span> <span class="n">node3</span><span class="p">])</span>
    <span class="k">assert</span> <span class="n">node4</span><span class="o">.</span><span class="n">value</span><span class="p">()</span> <span class="o">==</span> <span class="p">[</span><span class="n">node1</span><span class="o">.</span><span class="n">value</span><span class="p">(),</span> <span class="n">node3</span><span class="o">.</span><span class="n">value</span><span class="p">()]</span>
    <span class="c1"># Commit the DAG</span>
    <span class="n">dag</span><span class="o">.</span><span class="n">commit</span><span class="p">(</span><span class="n">node3</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output traceback highlight-ipythontb notranslate"><div class="highlight"><pre><span></span><span class="gt">---------------------------------------------------------------------------</span>
<span class="ne">Error</span><span class="g g-Whitespace">                                     </span>Traceback (most recent call last)
<span class="n">Cell</span> <span class="n">In</span><span class="p">[</span><span class="mi">4</span><span class="p">],</span> <span class="n">line</span> <span class="mi">8</span>
<span class="g g-Whitespace">      </span><span class="mi">6</span> <span class="n">dag</span> <span class="o">=</span> <span class="n">api</span><span class="o">.</span><span class="n">new_dag</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;example_dag&quot;</span><span class="p">,</span> <span class="n">message</span><span class="o">=</span><span class="s2">&quot;Example DAG creation&quot;</span><span class="p">)</span>
<span class="g g-Whitespace">      </span><span class="mi">7</span> <span class="c1"># Add nodes to the DAG</span>
<span class="ne">----&gt; </span><span class="mi">8</span> <span class="n">node0</span> <span class="o">=</span> <span class="n">dag</span><span class="o">.</span><span class="n">put</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
<span class="g g-Whitespace">      </span><span class="mi">9</span> <span class="n">node1</span> <span class="o">=</span> <span class="n">dag</span><span class="o">.</span><span class="n">put</span><span class="p">(</span><span class="s2">&quot;example&quot;</span><span class="p">)</span>
<span class="g g-Whitespace">     </span><span class="mi">10</span> <span class="c1"># node2 = dag.put({node0, node1})</span>

<span class="nn">File /opt/hostedtoolcache/Python/3.12.8/x64/lib/python3.12/site-packages/daggerml/core.py:620,</span> in <span class="ni">Dag.put</span><span class="nt">(self, data)</span>
<span class="g g-Whitespace">    </span><span class="mi">618</span>         <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s1">&#39;asdf&#39;</span><span class="p">)</span>
<span class="g g-Whitespace">    </span><span class="mi">619</span>     <span class="k">return</span> <span class="n">data</span>
<span class="ne">--&gt; </span><span class="mi">620</span> <span class="n">resp</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_invoke</span><span class="p">(</span><span class="s1">&#39;put_literal&#39;</span><span class="p">,</span> <span class="n">data</span><span class="p">)</span>
<span class="g g-Whitespace">    </span><span class="mi">621</span> <span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">resp</span><span class="p">,</span> <span class="n">Ref</span><span class="p">)</span>
<span class="g g-Whitespace">    </span><span class="mi">622</span> <span class="k">return</span> <span class="n">Node</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">resp</span><span class="p">)</span>

<span class="nn">File /opt/hostedtoolcache/Python/3.12.8/x64/lib/python3.12/site-packages/daggerml/core.py:587,</span> in <span class="ni">Dag._invoke</span><span class="nt">(self, op, *args, **kwargs)</span>
<span class="g g-Whitespace">    </span><span class="mi">585</span> <span class="n">data</span> <span class="o">=</span> <span class="n">from_json</span><span class="p">(</span><span class="n">resp</span><span class="p">)</span>
<span class="g g-Whitespace">    </span><span class="mi">586</span> <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">Error</span><span class="p">):</span>
<span class="ne">--&gt; </span><span class="mi">587</span>     <span class="k">raise</span> <span class="n">data</span>
<span class="g g-Whitespace">    </span><span class="mi">588</span> <span class="k">return</span> <span class="n">data</span>

<span class="ne">Error</span>: dml.Error(AssertionError: &#39;repo not found: /tmp/tmp5zelz5g0/repo/testing/data.mdb&#39;)
<span class="o">================================================================================</span>
<span class="n">Trace</span>
<span class="o">================================================================================</span>
<span class="n">Traceback</span> <span class="p">(</span><span class="n">most</span> <span class="n">recent</span> <span class="n">call</span> <span class="n">last</span><span class="p">):</span>

  <span class="n">File</span> <span class="s2">&quot;/opt/hostedtoolcache/Python/3.12.8/x64/lib/python3.12/site-packages/daggerml_cli/api.py&quot;</span><span class="p">,</span> <span class="n">line</span> <span class="mi">305</span><span class="p">,</span> <span class="ow">in</span> <span class="n">invoke_api</span>
    <span class="k">with</span> <span class="n">Repo</span><span class="p">(</span><span class="n">config</span><span class="o">.</span><span class="n">REPO_PATH</span><span class="p">,</span> <span class="n">config</span><span class="o">.</span><span class="n">USER</span><span class="p">,</span> <span class="n">config</span><span class="o">.</span><span class="n">BRANCHREF</span><span class="p">)</span> <span class="k">as</span> <span class="n">db</span><span class="p">:</span>
         <span class="o">^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^</span>

  <span class="n">File</span> <span class="s2">&quot;&lt;string&gt;&quot;</span><span class="p">,</span> <span class="n">line</span> <span class="mi">6</span><span class="p">,</span> <span class="ow">in</span> <span class="fm">__init__</span>

  <span class="n">File</span> <span class="s2">&quot;/opt/hostedtoolcache/Python/3.12.8/x64/lib/python3.12/site-packages/daggerml_cli/repo.py&quot;</span><span class="p">,</span> <span class="n">line</span> <span class="mi">326</span><span class="p">,</span> <span class="ow">in</span> <span class="n">__post_init__</span>
    <span class="k">assert</span> <span class="n">dbfile_exists</span><span class="p">,</span> <span class="sa">f</span><span class="s1">&#39;repo not found: </span><span class="si">{</span><span class="n">dbfile</span><span class="si">}</span><span class="s1">&#39;</span>
           <span class="o">^^^^^^^^^^^^^</span>

<span class="ne">AssertionError</span>: repo not found: /tmp/tmp5zelz5g0/repo/testing/data.mdb
</pre></div>
</div>
</div>
</div>
<p>We can load values from previously run dags by their name.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">daggerml</span> <span class="k">as</span> <span class="nn">dml</span>

<span class="k">with</span> <span class="n">dml</span><span class="o">.</span><span class="n">Api</span><span class="p">(</span><span class="n">initialize</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span> <span class="k">as</span> <span class="n">api</span><span class="p">:</span>
    <span class="c1"># Create a new DAG</span>
    <span class="n">dag</span> <span class="o">=</span> <span class="n">api</span><span class="o">.</span><span class="n">new_dag</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;example dag&quot;</span><span class="p">,</span> <span class="n">message</span><span class="o">=</span><span class="s2">&quot;Example DAG creation&quot;</span><span class="p">)</span>
    <span class="c1"># Add nodes to the DAG</span>
    <span class="n">node0</span> <span class="o">=</span> <span class="n">dag</span><span class="o">.</span><span class="n">put</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
    <span class="n">node1</span> <span class="o">=</span> <span class="n">dag</span><span class="o">.</span><span class="n">put</span><span class="p">(</span><span class="s2">&quot;example&quot;</span><span class="p">)</span>
    <span class="n">node2</span> <span class="o">=</span> <span class="n">dag</span><span class="o">.</span><span class="n">put</span><span class="p">({</span><span class="n">node0</span><span class="p">,</span> <span class="n">node1</span><span class="p">})</span>
    <span class="n">node3</span> <span class="o">=</span> <span class="n">dag</span><span class="o">.</span><span class="n">put</span><span class="p">({</span><span class="s2">&quot;node0&quot;</span><span class="p">:</span> <span class="n">node0</span><span class="o">.</span><span class="n">value</span><span class="p">(),</span> <span class="s2">&quot;node1&quot;</span><span class="p">:</span> <span class="n">node1</span><span class="p">,</span> <span class="s2">&quot;node2&quot;</span><span class="p">:</span> <span class="n">node2</span><span class="p">})</span>
    <span class="n">node4</span> <span class="o">=</span> <span class="n">dag</span><span class="o">.</span><span class="n">put</span><span class="p">([</span><span class="n">node2</span><span class="p">,</span> <span class="n">node3</span><span class="p">])</span>
    <span class="k">assert</span> <span class="n">node4</span><span class="o">.</span><span class="n">value</span><span class="p">()</span> <span class="o">==</span> <span class="p">[</span><span class="n">node2</span><span class="o">.</span><span class="n">value</span><span class="p">(),</span> <span class="n">node3</span><span class="o">.</span><span class="n">value</span><span class="p">()]</span>
    <span class="c1"># Commit the DAG</span>
    <span class="n">dag</span><span class="o">.</span><span class="n">commit</span><span class="p">(</span><span class="n">node4</span><span class="p">)</span>

    <span class="n">new_dag</span> <span class="o">=</span> <span class="n">api</span><span class="o">.</span><span class="n">new_dag</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;another example&quot;</span><span class="p">,</span> <span class="n">message</span><span class="o">=</span><span class="s2">&quot;Another example DAG&quot;</span><span class="p">)</span>
    <span class="n">node</span> <span class="o">=</span> <span class="n">new_dag</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="s2">&quot;example dag&quot;</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">node</span><span class="o">.</span><span class="n">value</span><span class="p">())</span>
</pre></div>
</div>
</div>
</div>
<p>DaggerML is a Python library that provides a simple interface for
creating and managing Directed Acyclic Graphs (DAGs). A DAG is a
collection of nodes that are connected by edges, where each edge
represents a dependency between two nodes. The library provides a set of
classes and methods that allow you to create, manipulate, and visualize
DAGs.</p>
<p>To create a new DAG, you can use the [Dag]{.title-ref} class from the
[daggerml.core]{.title-ref} module. Here is an example:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">daggerml</span> <span class="k">as</span> <span class="nn">dml</span>

<span class="c1"># Create a new DAG</span>
<span class="n">dag</span> <span class="o">=</span> <span class="n">dml</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;example_dag&quot;</span><span class="p">,</span> <span class="n">message</span><span class="o">=</span><span class="s2">&quot;Example DAG creation&quot;</span><span class="p">)</span>

<span class="c1"># Add nodes to the DAG</span>
<span class="n">node1</span> <span class="o">=</span> <span class="n">dag</span><span class="o">.</span><span class="n">put</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
<span class="n">node2</span> <span class="o">=</span> <span class="n">dag</span><span class="o">.</span><span class="n">put</span><span class="p">(</span><span class="s2">&quot;example&quot;</span><span class="p">)</span>
<span class="n">node3</span> <span class="o">=</span> <span class="n">dag</span><span class="o">.</span><span class="n">put</span><span class="p">([</span><span class="n">node1</span><span class="p">,</span> <span class="n">node2</span><span class="p">])</span>

<span class="c1"># Commit the DAG</span>
<span class="n">dag</span><span class="o">.</span><span class="n">commit</span><span class="p">(</span><span class="n">node3</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="creating-a-dag">
<h3>Creating a DAG<a class="headerlink" href="#creating-a-dag" title="Link to this heading">#</a></h3>
<p>To create a new DAG, you can use the [Dag]{.title-ref} class from the
[daggerml.core]{.title-ref} module. Here is an example:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">daggerml</span> <span class="k">as</span> <span class="nn">dml</span>

<span class="c1"># Create a new DAG</span>
<span class="n">dag</span> <span class="o">=</span> <span class="n">dml</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;example_dag&quot;</span><span class="p">,</span> <span class="n">message</span><span class="o">=</span><span class="s2">&quot;Example DAG creation&quot;</span><span class="p">)</span>

<span class="c1"># Add nodes to the DAG</span>
<span class="n">node1</span> <span class="o">=</span> <span class="n">dag</span><span class="o">.</span><span class="n">put</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
<span class="n">node2</span> <span class="o">=</span> <span class="n">dag</span><span class="o">.</span><span class="n">put</span><span class="p">(</span><span class="s2">&quot;example&quot;</span><span class="p">)</span>
<span class="n">node3</span> <span class="o">=</span> <span class="n">dag</span><span class="o">.</span><span class="n">put</span><span class="p">([</span><span class="n">node1</span><span class="p">,</span> <span class="n">node2</span><span class="p">])</span>

<span class="c1"># Commit the DAG</span>
<span class="n">dag</span><span class="o">.</span><span class="n">commit</span><span class="p">(</span><span class="n">node3</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="using-the-api-class">
<h3>Using the API Class<a class="headerlink" href="#using-the-api-class" title="Link to this heading">#</a></h3>
<p>The [Api]{.title-ref} class provides methods to interact with the DAGs.
Here is an example of how to use the [Api]{.title-ref} class:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">daggerml</span> <span class="k">as</span> <span class="nn">dml</span>

<span class="c1"># Create an API instance</span>
<span class="n">api</span> <span class="o">=</span> <span class="n">dml</span><span class="o">.</span><span class="n">Api</span><span class="p">(</span><span class="n">config_dir</span><span class="o">=</span><span class="s2">&quot;path/to/config/directory&quot;</span><span class="p">)</span>

<span class="c1"># Create a new DAG using the API</span>
<span class="n">dag</span> <span class="o">=</span> <span class="n">api</span><span class="o">.</span><span class="n">new_dag</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;example_dag&quot;</span><span class="p">,</span> <span class="n">message</span><span class="o">=</span><span class="s2">&quot;Example DAG creation&quot;</span><span class="p">)</span>

<span class="c1"># Add nodes to the DAG</span>
<span class="n">node1</span> <span class="o">=</span> <span class="n">dag</span><span class="o">.</span><span class="n">put</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
<span class="n">node2</span> <span class="o">=</span> <span class="n">dag</span><span class="o">.</span><span class="n">put</span><span class="p">(</span><span class="s2">&quot;example&quot;</span><span class="p">)</span>
<span class="n">node3</span> <span class="o">=</span> <span class="n">dag</span><span class="o">.</span><span class="n">put</span><span class="p">([</span><span class="n">node1</span><span class="p">,</span> <span class="n">node2</span><span class="p">])</span>

<span class="c1"># Commit the DAG</span>
<span class="n">dag</span><span class="o">.</span><span class="n">commit</span><span class="p">(</span><span class="n">node3</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="loading-and-dumping-a-dag">
<h3>Loading and Dumping a DAG<a class="headerlink" href="#loading-and-dumping-a-dag" title="Link to this heading">#</a></h3>
<p>You can load and dump a DAG using the [load]{.title-ref} and
[dump]{.title-ref} methods of the [Dag]{.title-ref} class:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">daggerml.core</span> <span class="kn">import</span> <span class="n">Dag</span>

<span class="c1"># Load a DAG from a file</span>
<span class="n">dag</span> <span class="o">=</span> <span class="n">Dag</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="s2">&quot;path/to/dag_file&quot;</span><span class="p">)</span>

<span class="c1"># Dump the DAG to a file</span>
<span class="n">dag</span><span class="o">.</span><span class="n">dump</span><span class="p">(</span><span class="s2">&quot;path/to/dag_file&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</section>
</section>
<section id="advanced-usage">
<h2>Advanced Usage<a class="headerlink" href="#advanced-usage" title="Link to this heading">#</a></h2>
<section id="dealing-with-the-api">
<h3>Dealing with the API<a class="headerlink" href="#dealing-with-the-api" title="Link to this heading">#</a></h3>
<p>The [Api]{.title-ref} class wraps the core functionality of DaggerML
([daggerml-cli]{.title-ref}) in a python interface. You can speficy the
repo when instantiating the [Api]{.title-ref} class, use the default
repo, or create and initialize a temporary repo.</p>
<section id="standard-usage">
<h4>Standard Usage<a class="headerlink" href="#standard-usage" title="Link to this heading">#</a></h4>
<p>To use the default repo, you can create an instance of the
[Api]{.title-ref} class without specifying a repo. Here is an example:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">daggerml</span> <span class="k">as</span> <span class="nn">dml</span>

<span class="c1"># Create an API instance</span>
<span class="n">api</span> <span class="o">=</span> <span class="n">dml</span><span class="o">.</span><span class="n">Api</span><span class="p">()</span>
<span class="c1"># Create a new DAG using the API</span>
<span class="n">dag</span> <span class="o">=</span> <span class="n">api</span><span class="o">.</span><span class="n">new_dag</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;example_dag&quot;</span><span class="p">,</span> <span class="n">message</span><span class="o">=</span><span class="s2">&quot;Example DAG creation&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="using-a-temporary-repo">
<h4>Using a Temporary Repo<a class="headerlink" href="#using-a-temporary-repo" title="Link to this heading">#</a></h4>
<p>To use a temporary repo, you can create an instance of the
[Api]{.title-ref} class without specifying a repo and specifying
[initialize=True]{.title-ref}. Here is an example:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">daggerml</span> <span class="k">as</span> <span class="nn">dml</span>

<span class="c1"># Create an API instance with a temporary repo</span>
<span class="n">api</span> <span class="o">=</span> <span class="n">dml</span><span class="o">.</span><span class="n">Api</span><span class="p">(</span><span class="n">initialize</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="c1"># do whatever you want with the API</span>
<span class="n">api</span><span class="o">.</span><span class="n">cleanup</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<p>You can also use the [Api]{.title-ref} class as a context manager to
automatically clean up the temporary repo:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">daggerml</span> <span class="k">as</span> <span class="nn">dml</span>

<span class="k">with</span> <span class="n">dml</span><span class="o">.</span><span class="n">Api</span><span class="p">(</span><span class="n">initialize</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span> <span class="k">as</span> <span class="n">api</span><span class="p">:</span>
    <span class="c1"># do whatever you want with the API</span>
    <span class="k">pass</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="using-a-specific-repo">
<h4>Using a Specific Repo<a class="headerlink" href="#using-a-specific-repo" title="Link to this heading">#</a></h4>
<p>To use a specific repo, you can create an instance of the
[Api]{.title-ref} class and specify the repo path. Here is an example:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">daggerml</span> <span class="k">as</span> <span class="nn">dml</span>

<span class="c1"># Create an API instance with a specific repo</span>
<span class="n">api</span> <span class="o">=</span> <span class="n">dml</span><span class="o">.</span><span class="n">Api</span><span class="p">(</span><span class="n">config_dir</span><span class="o">=</span><span class="s2">&quot;path/to/config/directory&quot;</span><span class="p">)</span>
<span class="c1"># Create a new DAG using the API</span>
<span class="n">dag</span> <span class="o">=</span> <span class="n">api</span><span class="o">.</span><span class="n">new_dag</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;example_dag&quot;</span><span class="p">,</span> <span class="n">message</span><span class="o">=</span><span class="s2">&quot;Example DAG creation&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</section>
</section>
</section>
<section id="conclusion">
<h2>Conclusion<a class="headerlink" href="#conclusion" title="Link to this heading">#</a></h2>
<p>This guide provided an overview of the most useful aspects of DaggerML,
including creating and managing DAGs, using the API, and running tests.
For more detailed information, refer to the API documentation and the
test suite.</p>
</section>
</section>


                </article>
              

              
              
              
              
                <footer class="prev-next-footer d-print-none">
                  
<div class="prev-next-area">
</div>
                </footer>
              
            </div>
            
            
              
                <dialog id="pst-secondary-sidebar-modal"></dialog>
                <div id="pst-secondary-sidebar" class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> Contents
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#basic-usage">Basic Usage</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#the-basics">The Basics</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#creating-a-dag">Creating a DAG</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#using-the-api-class">Using the API Class</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#loading-and-dumping-a-dag">Loading and Dumping a DAG</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#advanced-usage">Advanced Usage</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#dealing-with-the-api">Dealing with the API</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#standard-usage">Standard Usage</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#using-a-temporary-repo">Using a Temporary Repo</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#using-a-specific-repo">Using a Specific Repo</a></li>
</ul>
</li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#conclusion">Conclusion</a></li>
</ul>
  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
By Aaron Niskin and Micha Niskin
</p>

  </div>
  
  <div class="footer-item">
    

  <p class="copyright">
    
      © Copyright 2025, Aaron Niskin and Micha Niskin.
      <br/>
    
  </p>

  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
  </div>
  
</div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script defer src="_static/scripts/bootstrap.js?digest=8878045cc6db502f8baf"></script>
<script defer src="_static/scripts/pydata-sphinx-theme.js?digest=8878045cc6db502f8baf"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>